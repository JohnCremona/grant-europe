\addtocounter{wpno}{1}
\begin{Workpackage}{\thewpno}
\wplabel{wp:x}
\WPTitle{\wpname{\thewpno}}
\WPStart{Month 1}
\WPParticipant{ZH}{1}

\begin{WPObjectives}
  The objectives of \theWP{} is to design interfaces that can be used
  for a wide range of mathematical data, facilities for accepting
  contributions while tracking provenance and credit, and definition of standard
  metadata allowing for interoperability, database discovery, 
  versioning allowing stable references, and easy recomputation.
  
%  Participants: Warwick, Zurich, Logilab (SME in Paris)
\end{WPObjectives}


\begin{WPDescription}
Mathematics is the only science that has not yet benefited massively from the systematic interchange of data. Many mathematical databases now exist, but their internal structure does not surface the richness of the interconnections between the objects that are studied. This prevents the formulation of new conjectures, the testing of new hypotheses, and generally an exploratory approach to mathematical data. The past has shown that this approach could be fruitful: 
\begin{itemize}
\item both the Riemann Hypothesis and the Birch and Swinnerton Dyer conjectures resulted from computations, and now stand among the seven Clay Millenium Problems;
\item the Monstrous Moonshine conjecture finds its origin in a numerical co\"incidence between dimensions of representations of the Monster group and coefficients of the $j$-function, and its conclusion eventually led to Borcherds' Fields medal.
\end{itemize}

Existing tools are not suitable for this hypothesis generation across mathematical subdisciplines: both sides are usually studied by different communities, and the interconnections have themselves such complexity that they typically become the object of study of yet another group of mathematicians. This explains the need for infrastructure that could be used uniformly over wide ranges of mathematics, certainly poses additional challenges compared to existing solutions, but also allows for potentially groundbreaking improvements. At the same time, some issues are less prevalent in mathematics, for instance tied to "veracity": most often the data results from deterministic computations implemented via exact and verified algorithms. 

We propose in this work package to design and build an infrastructure that would make it easy for either isolated mathematicians or a distributed collaboration to manage mathematical data. This work would provide part of the backend to Work Packages \TODO{work package on interfaces, and???}, and would draw on previous work with the LMFDB and FindStat (which will be looked at as prototypes for our purposes). Requirements should be as minimal as possible (depending on the individual's goals), and in particular would not require any background in databases to contribute new data or perform queries. 
\end{WPDescription}

\begin{task}{Survey of existing databases}
\label{task:data_assessment}
All the systems considered in this proposal (\GAP, \Sage, \Pari, \Singular) include data as part of their regular distribution. In this task, we will survey existing databases, the technology used to implement them, how they were linked to the rest of the existing infrastructure and the functionalities offered. We will also select additional external data and projects to add to this effort, aiming to maximise the impact of our work. 
\end{task}

\begin{task}{Design of new infrastructure, formulation of requirements}
\label{task:data_design}
Ontologies are the canonical method used to implement databases that require significant data interchange. However, because of extreme reification in mathematics, this is not entirely suitable for our goals. We will design a new infrastructure for \TheProject, drawing on existing emerging standards . 


\begin{itemize}
\item Implementation MMT - > Logilab
\item Math flexiformalisation, conversion of existing data
\item Search functionality
\item Memoization
\end{itemize}

  \begin{itemize}
  \item Polytopes in Polymake
  \item graphs, graph properties
  \item existing in LMFDB
  \item FindStat
  \item Finite groups (Max)
  \item Lattices
  \end{itemize}


  \TODO{deliverable}
\end{task}

\begin{WPDeliverables}
\begin{itemize}
\item Conversion of existing and new databases to unified interoperable system:
  \begin{itemize}
  \item Polytopes in Polymake
  \item graphs, graph properties
  \item LMFDB data
  \item FindStat data
  \item Finite groups (Max)
  \item Lattices
  \end{itemize}
  
\item \ref{del:persistent_memoization} (Month X): Shared persistent
  memoization library for Python/Sage.  Typical use case: A group of
  collaborators is using intensively a given function (in Sage, or in
  their private code). They want to memoize the results, as with
  e.g. Sage's \lstinline{cached_method}, but across sessions.  They
  further want to share the underlying growing database between
  themselves, and maybe eventually publish it.

  Features:
  \begin{itemize}
  \item Use, further extend, and contribute back to some established
    (Python?) persistent memoization infrastructure. E.g.
    \begin{itemize}
    \item \url{https://pythonhosted.org/joblib/memory.html}
    \item \url{github.com/vivekn/redis-simple-cache}
    \item \url{bitbucket.org/zzzeek/dogpile.cache}
    \end{itemize}
  \item Apply not only to user-level functions, but also to lower
    level functions, e.g. in the Sage library, so that indirect calls
    to the function also get memoized.
  \item Trivial to setup and configure for the end user: in a single
    line, the user selects an existing function, a backend (with a
    default value), maybe provide some semantic information, and
    voila. \\
    Typical interface: a decorator to be set on appropriate functions.
    \TODO{Mock code}
    % mycloud = storage("ssh:xxx@yyy/zzz")
    % memoize(sage.combinat...., storage=mycloud, input=ZZ, output=Posets(), key="catalan")
  \item Trivial to setup and configure for groups of researchers, with
    a wide range of storage backends (e.g. shared dropbox folder,
    remote directory, database, git repository, ...).
  \item Easy to setup data-bot: e.g. launching a virtual machine that
    systematically fills up the shared database.
  \item Versioning and provenance tracking (user, algorithm, software
    version, ...), for quality certification, credit, ...
  \item Recomputation?
  \item Ease of publishing, importing, ...
  \item Usual database properties: atomicity, merging (easy since the
    results are supposed to be immutable: just need to merge the
    tracking info), alerts in case of divergence.
  \end{itemize}
\end{itemize}
\end{WPDeliverables}
\end{Workpackage}
